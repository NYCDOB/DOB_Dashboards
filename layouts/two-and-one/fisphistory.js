!async function(e){"use strict";document.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),document.querySelector("#doSearch").click())})),function(e){let t=localStorage.getItem("cathyBIN");t&&(document.querySelector("#searchTerm").value=t,document.querySelector("#doSearch").click())}();let t=new DocumentFragment,o=new DocumentFragment;const n=await d3.csv("fispdata.csv",(e=>e));document.querySelector("#doSearch").addEventListener("click",(e=>{e.stopImmediatePropagation();let r,c=document.querySelector("#searchTerm").value.toLowerCase().trim();if(!c)return;document.querySelector("#propertyData").innerText="",document.querySelectorAll("[name='borough']").forEach((e=>{e.checked&&(r=e.value)}));let l=n.filter((e=>c==e.Bin||c==e.Address.toLowerCase().trim()&&e.Borough.toLowerCase()==r));if(0==l.length)return document.querySelector("#propertyData").innerText="Search Results...Property Not Found",void(document.querySelector("#propertyDataDetail").innerText="");l.sort(((e,t)=>e.Cycle<t.Cycle?1:-1)),function(e){function n(e,t,o){let n=document.createElement("div");n.innerText=e,n.className=o,t.appendChild(n)}let r=document.createElement("p");r.innerText=e[0].Address;let c=document.createElement("h3");c.class="col-xl-1",c.appendChild(r),t.appendChild(c),["Bin","Borough","Block","Lot"].forEach(((o,r)=>{window["_Div"+r]=document.createElement("div"),window["_Div"+r].className="detailDiv row",n(`${o}:`,window["_Div"+r],"col-4"),n(`${e[0][o]}`,window["_Div"+r],"col"),t.appendChild(window["_Div"+r])}));let l=document.createElement("hr");l.className="col-lg-1 d-lg-inline",t.appendChild(l);let a=0;for(let t of e)["Cycle","Control Number","CN Filing Status","CN Filing Date","SWARMP Recommended Date"," QEWI Name","QEWI Business Name"].forEach(((t,r)=>{window["_Div"+r]=document.createElement("div"),window["_Div"+r].className="zzdetailDiv row",n(`${t}:`,window["_Div"+r],0==r?"col-3 boldit":"col-3"),n(`${e[a][t]}`,window["_Div"+r],0==r?"col-3 boldit":"col-3"),o.appendChild(window["_Div"+r])})),o.appendChild(document.createElement("br")),a++;document.querySelector("#propertyData").textContent="",document.querySelector("#propertyData").appendChild(t),document.querySelector("#propertyDataDetail").textContent="",document.querySelector("#propertyDataDetail").appendChild(o)}(l)}))}();